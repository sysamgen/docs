Overview
==========

Samgen system enables processing genetic sequences through customizable bioinformatics pipelines aiming to identify clinically significant variants at DNA and RNA level.
Output files are stored on the filesystem and relevant variants are additionally exported to relational database.

Main componenets are:

Workflow manager
------------------

A workflow manager enables the definition, launch and supervision of data processing pipelines. Samgen utilizes `Apache Airflow <https://airflow.apache.org/>`_ as workflow manager with `CWL-Airflow <https://github.com/Barski-lab/cwl-airflow>`_ extension. 
Pipelines are defined and can be further customized using Python language and `CWL <https://www.commonwl.org/v1.0/>`_ language.
Most bioinformatics pipelines are based on open-source examples from publica repositories eg. `MGI's workflows <https://github.com/genome/analysis-workflows>`_ or `Kids Firs workflows <https://github.com/kids-first>`_.
The pipelines were patched, updated and optimized for samgen's use cases.

Custom steps (e.g setupping configuration or variants ETL process) were developed in Python.

`Current Airflow instance <http://sg-comp-01.dsamgen.czd.pl:8080/home>`_

Variants DB
-------------

Relational database stores relevant data from completed bipinformatics pipelines for quick access and further analysis. 
The data model includes storing annotated variants, genotypes, sample and patients information as wel as version metadata.

Data are accessed through standard JDBC protocol.

.. image:: img/er.png
.. image:: img/relational.png


Analytical Platform
--------------------

An analytical platform enabling advanced programming analyzes on clinically relevant data. The platform is built upon `Jupyter <https://jupyter.org/>`_ platform.

`Current Jupyter instance <http://sg-edge-01.dsamgen.czd.pl:8000/>`_